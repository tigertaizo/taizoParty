<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>だじゃってほしーの？</title>
    
    <!-- ReactとReactDOMの読み込み -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel（ブラウザでJSXを変換するため） -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts (Noto Sans JP) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            margin: 0;
            background-color: transparent; /* Googleサイトに馴染むように背景透明化も可 */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // アイコンコンポーネント（Lucideの代わり）
        const PlayIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>
        );
        const SquareIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/></svg>
        );
        const SparklesIcon = ({size = 24}) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 3v4"/><path d="M5 7h4"/></svg>
        );
        const RefreshCwIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>
        );

        const WORDS = [
            "豆腐", "布団", "えび", "イカ", "コップ", 
            "はくちょう", "はくさい", "目玉焼き", "みかん", "りんご", 
            "ぶどう", "校長", "教頭", "枝豆", "鳥", 
            "熊", "土器", "メダカ", "白鳥", "本"
        ];

        const App = () => {
            const [currentWord, setCurrentWord] = useState(WORDS[0]);
            const [isSpinning, setIsSpinning] = useState(false);
            const [selectedWord, setSelectedWord] = useState(null);
            const intervalRef = useRef(null);

            // シャッフル機能
            const startShuffle = () => {
                if (isSpinning) return;
                
                setIsSpinning(true);
                setSelectedWord(null);
                
                intervalRef.current = setInterval(() => {
                    const randomIndex = Math.floor(Math.random() * WORDS.length);
                    setCurrentWord(WORDS[randomIndex]);
                }, 30); // 30msごとに切り替え（高速化！）
            };

            // ストップ機能
            const stopShuffle = () => {
                if (!isSpinning) return;

                clearInterval(intervalRef.current);
                setIsSpinning(false);
                setSelectedWord(currentWord);
            };

            useEffect(() => {
                return () => clearInterval(intervalRef.current);
            }, []);

            return (
                <div className="min-h-screen bg-gradient-to-br from-orange-100 to-yellow-200 flex flex-col items-center justify-center p-4 font-sans text-slate-800">
                    
                    {/* タイトルエリア */}
                    <header className="mb-8 text-center">
                        <h1 className="text-4xl md:text-5xl font-extrabold text-orange-600 drop-shadow-md mb-2 tracking-wider">
                            だじゃってほしーの？
                        </h1>
                        <p className="text-lg text-slate-600 font-bold">
                            東北魂、見せるときじゃねーべが！
                        </p>
                    </header>

                    {/* メインカードエリア */}
                    <div className="relative w-full max-w-md aspect-[4/3] bg-white rounded-3xl shadow-[0_10px_40px_-10px_rgba(0,0,0,0.2)] border-4 border-orange-400 flex flex-col items-center justify-center p-8 transition-transform duration-300 transform hover:scale-[1.02]">
                        
                        {/* 装飾 */}
                        <div className="absolute top-4 left-4 text-orange-300">
                            <SparklesIcon size={32} />
                        </div>
                        <div className="absolute bottom-4 right-4 text-orange-300">
                            <SparklesIcon size={32} />
                        </div>

                        {/* 単語表示 */}
                        <div className="flex-1 flex items-center justify-center w-full">
                            <div 
                                className={`text-6xl md:text-7xl font-black text-center break-keep transition-all duration-100 ${
                                    selectedWord ? 'text-orange-600 scale-110 motion-safe:animate-bounce' : 'text-slate-700'
                                }`}
                            >
                                {currentWord}
                            </div>
                        </div>

                        {/* ステータス表示 */}
                        <div className="mt-4 h-8 text-center font-bold text-slate-400">
                            {isSpinning ? "シャッフル中だべ..." : selectedWord ? "これでダジャレ言うしかねえ！" : "準備万端だ！"}
                        </div>
                    </div>

                    {/* 操作ボタン */}
                    <div className="mt-10 flex gap-6 w-full max-w-md justify-center">
                        {!isSpinning ? (
                            <button
                                onClick={startShuffle}
                                className="flex-1 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white text-xl font-bold py-4 px-8 rounded-full shadow-lg transition-all transform active:scale-95 flex items-center justify-center gap-2"
                            >
                                {selectedWord ? <><RefreshCwIcon /> もう一回</> : <><PlayIcon /> スタート</>}
                            </button>
                        ) : (
                            <button
                                onClick={stopShuffle}
                                className="flex-1 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white text-xl font-bold py-4 px-8 rounded-full shadow-lg transition-all transform active:scale-95 flex items-center justify-center gap-2"
                            >
                                <SquareIcon /> ストップ！
                            </button>
                        )}
                    </div>

                    {/* フッター */}
                    <footer className="mt-12 text-center opacity-80 bg-white/50 py-4 px-8 rounded-xl shadow-sm">
                        <p className="text-sm text-slate-600 mb-1">おじちゃんの一言</p>
                        <p className="font-bold text-slate-800">
                            「全力でやんねど、駄目だがんない！面白いの頼むよ！」
                        </p>
                    </footer>

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>